@if (result) {
  <div class="result-container">
    <!-- Summary View -->
    @if (type === 'summarize') {
      <div class="summary-view">
        @for (item of result; track item) {
          <mat-card>
            <mat-card-content>
              <h2>Summary</h2>
              <p>{{item.summary}}</p>
              
              <h2>Key Concepts</h2>
              @for (concept of item.key_concepts; track concept) {
                <div class="concept-card">
                  <h3>{{concept.concept}}</h3>
                  <p>{{concept.explanation}}</p>
                  <h4>Features:</h4>
                  <ul>
                    @for (feature of concept.features; track feature) {
                      <li>{{feature}}</li>
                    }
                  </ul>
                  <h4>Example:</h4>
                  <p>{{concept.example}}</p>
                </div>
              }
            </mat-card-content>
          </mat-card>
        }
      </div>
    }

    <!-- Q&A View -->
    @if (type === 'quiz') {
      <div class="qa-view">
        @for (qa of result; track qa) {
          <mat-card class="qa-card">
            <mat-card-content>
              <h3>Question {{i + 1}}</h3>
              <p>{{qa.question}}</p>
              <div class="options">
                @for (option of qa.options; track option) {
                  <div [class.correct]="option === qa.correct_answer" class="option">
                    {{option}}
                  </div>
                }
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>
    }

    <!-- Flashcard View -->
    @if (type === 'flashcards') {
      <div class="flashcard-view">
        @for (card of result; track card) {
          <mat-card class="flashcard">
            <mat-card-content>
              <div class="card-front">
                <h3>Question:</h3>
                <p>{{card.question}}</p>
              </div>
              <div class="card-back">
                <h3>Answer:</h3>
                <p>{{card.answer}}</p>
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>
    }
  </div>
}


